<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>personal site</title>
    <!-- cdn of bootstrap  -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>
    <!-- js bundle -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>
</head>

<body>
    <!-- navbar  -->
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <div class="container-fluid">
            <a class="navbar-brand" href="#">personal site</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
                aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="#">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">Features</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">Pricing</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">services</a>
                    </li>
                    <!-- login  -->
                    <li class="nav-item mt-2 mt-lg-0 ms-lg-auto">
                        <a id="user" class="nav-link fw-bold me-0" href="#">Login</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    <h3 class="text-center mt-3">personal site</h3>
    <h4 class="text-center mt-3">login page</h4>

    <!-- login form  -->
    <div id="loginbox" class="mt-5 container">
        <form id="loginForm" action="#">
            <label for="text">user name:</label>
            <div>
                <input type="userName" class="form-control" id="username" class="form-control" placeholder="user name"
                    required>
                <label for="text">password:</label>
                <div>
                    <input type="password" class="form-control" id="password" class="form-control"
                        placeholder="password" required>

                    <button class="btn btn-primary mt-4">Login</button>





        </form>

        <div id="errorMsg" class="text-danger mt-2 d-none">try again!</div>
        
    </div>
<div id="wellcomeMsg" class="text-center mt-5 d-none ">
            <h4>wellcome <span id="wellcomeUser"></span></h4>
        </div>

    <script>
        let user = null;
        let attempts = 0;
        const maxAttempts = 3;

        const renderMenu = () => {
            document.getElementById("user").innerText = user ? ` ðŸ‘¤ ${user}` : "login";
        }

        const username = document.querySelector("#username");
        const password = document.querySelector("#password");
        const msg = document.querySelector("#demo");
        const loginBtn = document.querySelector("#loginBtn");

        function login() {
            const uname = username.value;
            const psw = password.value;

            if (uname === "fatemeh" && psw === "12345") {
                debugger
                user = uname;

                // hide login box 
                document.getElementById("loginbox").style.display = "none";
                // hide error message 
                document.getElementById("errorMsg").style.display = "none";

                renderMenu();

                // show wellcome msg 
                document.getElementById("wellcomeUser").innerText = user;
                document.getElementById("wellcomeUser").style.display = "block";

                loginbox.style.display = "none";

            }

            else {
                msg.textContent = "Try Again! âŒ";
                msg.style.color = "red";
                attempts++;
                document.getElementById("errorMsg").style.display = "block";
                document.getElementById("errorMsg").innerText = `Try again! (${attempts}/${maxAttempts})`;

                if (attempts >= maxAttempts) {
                    document.getElementById("username").disabled = true;
                    document.getElementById("password").disabled = true; document.querySelector("#loginForm button").disabled = true;
                    document.getElementById("errorMsg").innerText = "too many attempts! login disabled"
                }



            }
        }
        

        renderMenu();
        document.getElementById("loginForm").addEventListener("submit", login);


    </script>



</body>

</html>